<!DOCTYPE html>
<html>

<head>
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</title>
    <link rel="stylesheet" href="/styles/dev.css">
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/chats.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/styles/sweetalert2.min.css">
</head>

<body>
    <header class="header-content">
        <div class="logo">
            <a href="index.html">
                <img src="img/–õ–æ–≥–æ—Ç–∏–ø.png" alt="PRO-info" width="250">
            </a>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –±—É—Ä–≥–µ—Ä (–ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ –º–æ–∏–ª–∞—Ö) -->
        <button class="menu-toggle" id="menuToggle" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">
            <span></span>
        </button>

        <nav class="dropdown-menu" id="headerNav">
            <ul>
                <li><a href="index.html"><img src="/img/images (1)-Photoroom.png" width="21"></a></li>

                <li class="dropdown">
                    <div class="dropdown-link-wrapper">
                        <a href="#">–ú–µ–Ω—é</a>

                    </div>
                    <ul class="dropdown-content">
                        <li><a href="two page.html">–ü–æ–≥–æ–¥–∞</a></li>
                        <li><a href="second.html">–ü—Ä–æ –Ω–æ–≤—ã–π –≥–æ–¥</a></li>
                        <!-- <li><a href="school.html">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a></li> -->
                        <li><a href="carta.html">–ö–∞—Ä—Ç—ã</a></li>
                        <li><a href="news.html">–û—à–∏–±–∫–∞</a></li>
                    </ul>
                </li>

                <li><a href="holiday.html">–ü—Ä–∞–∑–¥–Ω–∏–∫–∏</a></li>
                <li><a href="fact.html">–§–∞–∫—Ç—ã</a></li>

                <li class="dropdown">
                    <div class="dropdown-link-wrapper">
                        <a href="#">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</a>

                    </div>
                    <ul class="dropdown-content">

                        <li><a href="https://github.com/Sozdatel1">Github</a></li>
                        <li><a href="https://github.com/Sozdatel1/Sozdatel1.github.io">–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥</a></li>
                    </ul>
                </li>
                <li><a href="why.html">–û —Å–∞–π—Ç–µ</a></li>
            </ul>
        </nav>

        <button onclick="logout()" style="padding: 25px;
background-color: rgba(255, 245, 245, 0);
border-left: 2px solid black;
border-top: 0px;
border-bottom: 0px;
border-right: 0px;
margin-left: auto;">–í—ã–π—Ç–∏</button>
    </header>


    <div id="content" style="display:none;">
        <h1 id="secretData" style="margin-bottom: 60px;"></h1>

        <div style=" padding: 10px; background-color: #f8f8f827; 
        border-radius: 30px; 
        border: 1px solid black;
        margin-bottom: 70px;">
            <h2>–î–∞–Ω–Ω—ã–µ —Å–∞–π—Ç–∞:</h2>
            <div class="info">

                <div style="padding: 30px; 
    background-color: rgba(68, 78, 114, 0.89);
    border-radius: 15px 15px 2px 15px;
    right: 0px !important;
    max-width: 600px;
    /* margin: 0px; */
    color: white;
    font-family: Arial, sans-serif;
    /* box-shadow: 0 0 10px rgba(0,0,0,0.5); */
    box-shadow: 0 10px 30px rgba(123, 123, 123, 0.392) !important;
    background: #f8f8f8;
    color: rgb(0, 0, 0); 
    border-radius: 20px; 
    font-family: Arial, Helvetica, sans-serif;">
                    –¢–µ–∫—É—â–∏–π –æ–Ω–ª–∞–π–Ω: <span id="online-counter">
                        <span class="spinner"></span>
                    </span> —á–µ–ª–æ–≤–µ–∫(–∞)
                </div>
            </div>
        </div>
        <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é</h2>
        <div style="padding: 10px; background-color: #f8f8f827; 
        border-radius: 30px; 
        border: 1px solid black;
        margin-bottom: 70px;
        ">

            <!-- 
<button onclick="togglePage('global', true)" style="padding: 15px;
border-radius: 30px; background-color: red;"><h2>–í–´–ö–õ–Æ–ß–ò–¢–¨ –í–ï–°–¨ –°–ê–ô–¢</h2></button>
<button onclick="togglePage('global', false)" style="padding: 15px;
border-radius: 30px; background-color: greenyellow;"><h2>–í–∫–ª—é—á–∏—Ç—å –≤–µ—Å—å —Å–∞–π—Ç</h2></button>
<hr>
<p style="text-align: center; margin-right: auto;">–ì–ª–∞–≤–Ω–∞—è:</p>
<button onclick="togglePage('/index.html', true)" style="padding: 15px;
border-radius: 30px; background-color: red;">–í—ã–∫–ª—é—á–∏—Ç—å "–ì–ª–∞–≤–Ω–∞—è"</button>
<button onclick="togglePage('/index.html', false)" style="padding: 15px;
border-radius: 30px; background-color: greenyellow;">–í–∫–ª—é—á–∏—Ç—å "–ì–ª–∞–≤–Ω–∞—è"</button>
<hr>
<p>–ü–æ–≥–æ–¥–∞</p>
<button onclick="togglePage('/two page.html', true)" style="padding: 15px;
border-radius: 30px; background-color: red;">–í—ã–∫–ª—é—á–∏—Ç—å "–ü–æ–≥–æ–¥–∞"</button>
<button onclick="togglePage('/two page.html', false)" style="padding: 15px;
border-radius: 30px; background-color: greenyellow;">–í–∫–ª—é—á–∏—Ç—å "–ü–æ–≥–æ–¥–∞"</button>
<hr>
<p>–°—Ç–∞—Ç—å–∏</p>
<button onclick="togglePage('/second.html', true)" style="padding: 15px;
border-radius: 30px; background-color: red;">–í—ã–∫–ª—é—á–∏—Ç—å "–°—Ç–∞—Ç—å–∏"</button>
<button onclick="togglePage('/second.html', false)" style="padding: 15px;
border-radius: 30px; background-color: greenyellow;">–í–∫–ª—é—á–∏—Ç—å "–°—Ç–∞—Ç—å–∏"</button>
<hr>
<p>–ö–∞—Ä—Ç—ã</p>
<button onclick="togglePage('/carta.html', true)" style="padding: 15px;
border-radius: 30px; background-color: red;">–í—ã–∫–ª—é—á–∏—Ç—å "–ö–∞—Ä—Ç—ã"</button>
<button onclick="togglePage('/carta.html', false)" style="padding: 15px;
border-radius: 30px; background-color: greenyellow;">–í–∫–ª—é—á–∏—Ç—å "–ö–∞—Ä—Ç—ã"</button>
<hr>
<p>–§–∞–∫—Ç—ã</p>
<button onclick="togglePage('/fact.html', true)" style="padding: 15px;
border-radius: 30px; background-color: red;">–í—ã–∫–ª—é—á–∏—Ç—å "–§–∞–∫—Ç—ã"</button>
<button onclick="togglePage('/fact.html', false)" style="padding: 15px;
border-radius: 30px; background-color: greenyellow;">–í–∫–ª—é—á–∏—Ç—å "–§–∞–∫—Ç—ã"</button>
<hr>
<p>–ü—Ä–∞–∑–¥–Ω–∏–∫–∏</p>
<button onclick="togglePage('/holiday.html', true)" style="padding: 15px;
border-radius: 30px; background-color: red;">–í—ã–∫–ª—é—á–∏—Ç—å "–ü—Ä–∞–∑–¥–Ω–∏–∫–∏"</button>
<button onclick="togglePage('/holiday.html', false)" style="padding: 15px;
border-radius: 30px; background-color: greenyellow;">–í–∫–ª—é—á–∏—Ç—å "–ü—Ä–∞–∑–¥–Ω–∏–∫–∏"</button>
<hr>
<p>–û —Å–∞–π—Ç–µ</p>
<button onclick="togglePage('/why.html', true)" style="padding: 15px;
border-radius: 30px; background-color: red;">–í—ã–∫–ª—é—á–∏—Ç—å "–û —Å–∞–π—Ç–µ"</button>
<button onclick="togglePage('/why.html', false)" style="padding: 15px;
border-radius: 30px; background-color: greenyellow;">–í–∫–ª—é—á–∏—Ç—å "–û —Å–∞–π—Ç–µ"</button> -->

            <div id="pagesControl" style="max-width: 600px; margin: 20px auto; font-family: sans-serif;">
                <div id="pagesList">–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤...</div>
            </div>

            <script>
                // –°–ø–∏—Å–æ–∫ —Ç–≤–æ–∏—Ö 8 —Å—Ç—Ä–∞–Ω–∏—Ü
                const myPages = [
                    { name: "–ì–ª–∞–≤–Ω–∞—è", path: "/index.html" },
                    { name: "–ü–æ–≥–æ–¥–∞", path: "/two page.html" },
                    { name: "–°—Ç–∞—Ç—å–∏", path: "/second.html" },
                    { name: "–ö–∞—Ä—Ç—ã", path: "/carta.html" },
                    { name: "–ü—Ä–∞–∑–¥–Ω–∏–∫–∏", path: "/holiday.html" },
                    { name: "–§–∞–∫—Ç—ã", path: "/fact.html" },
                    { name: "–û —Å–∞–π—Ç–µ", path: "/why.html" },
                ];

                async function updateDashboard() {
                    try {
                        const res = await fetch('https://pro-info-api.onrender.com/api/public/status');
                        const statuses = await res.json();

                        const container = document.getElementById('pagesList');
                        container.innerHTML = '';

                        myPages.forEach(page => {
                            const isOff = statuses[page.path];
                            container.innerHTML += `
                <div style="margin: 10px 0; padding: 15px; border: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center; border-radius: 8px; background: white;">
                    <div><strong>${page.name}</strong></div>
                    <div style="display: flex; align-items: center;">
                        <span style="color: ${isOff ? '#ff4757' : '#2ed573'}; font-weight: bold; margin-right: 15px;">
                            ${isOff ? '‚óè –í–´–ö–õ–Æ–ß–ï–ù–ê' : '‚óè –†–ê–ë–û–¢–ê–ï–¢'}
                        </span>
                        <button onclick="togglePage('${page.path}', ${!isOff})" 
                                style="background: ${isOff ? '#2ed573' : '#ff4757'}; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; width: 100px;">
                            ${isOff ? '–í–∫–ª—é—á–∏—Ç—å' : '–í—ã–∫–ª—é—á–∏—Ç—å'}
                        </button>
                    </div>
                </div>`;
                        });
                    } catch (e) { console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤"); }
                }

                async function togglePage(path, status) {
                    const res = await fetch('https://pro-info-api.onrender.com/api/admin/toggle-page', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ path, status }),
                        credentials: 'include'
                    });

                    if (res.ok) {
                        // –í–ê–ñ–ù–û: –≤—ã–∑—ã–≤–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞
                        updateDashboard(); // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
                        Swal.fire({
                            position: "center",
                            icon: "success",
                            title: status ? '–í—ã–∫–ª—é—á–µ–Ω–æ' : '–í–∫–ª—é—á–µ–Ω–æ', // —Å—Ç–∞—Ç—É—Å true = –≤–∫–ª—é—á–∏–ª–∏
                            showConfirmButton: false,
                            timer: 1500
                        });
                    } else {

                        Swal.fire({
                            icon: 'error',
                            title: '–û—à–∏–±–∫–∞',
                            text: '–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å'
                        });
                    }
                }
                updateDashboard();

            </script>
        </div>

        <div id="admin-chat-section-why">
            <div class="chat-header">–ß–∞—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤</div>

            <!-- –í—Ö–æ–¥ -->
            <div id="login-ui">
                <input type="text" id="name-input" placeholder="–í–∞—à –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–π –Ω–∏–∫">
                <div class="pass-wrapper">
                    <input type="password" id="pass-input" placeholder="–ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞">
                    <span id="toggle-pass" onclick="togglePass()">üëÅÔ∏è</span>
                </div>
                <!-- <input type="password" id="pass-input" placeholder="–ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"> -->
                <button class="login-btn" onclick="login()">–í–æ–π—Ç–∏ –≤ —á–∞—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤</button>
            </div>

            <!-- –ß–∞—Ç -->
            <div id="chat-ui" style="display: none;">
                <div id="msg-box"></div>
                <div class="input-area">
                    <input type="text" id="msg-input" placeholder="–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                    <button class="send-btn" onclick="send()">‚û§</button>
                </div>
                <div style="text-align: center; padding: 20px;">
                    <a href="#" onclick="localStorage.clear(); location.reload()" style="color: #000000; font-size: 17px; 
            text-decoration: none; 
            background-color: #ff0000; 
            padding: 10px;
            border-radius: 20px;
            margin: 100px ;
            border: 2px solid black;">–í—ã–π—Ç–∏ –∏–∑ —á–∞—Ç–∞</a>
                </div>
            </div>

        </div>
    </div>

    <script src="https://cdn.socket.io/4.8.1/socket.io.min.js" crossorigin="anonymous"></script>
    <script src="/scripts/main.js"></script>
    <script src="/scripts/sweetalert2.all.min.js"></script>
    <script src="/scripts/checkAccess.js"></script>
    <script src="/scripts/online.js"></script>
</body>

</html>